## 说明

#### 设计思路

1. 抽取`txt`文件中的有效信息（商品编号）

2. 爬取对应网页获得商品的有效信息，为了应对亚马逊的反爬虫机制，我对爬虫做出了一定程度的修改：

   1. 爬取一个链接后暂停随机的一段时间
   2. 每次爬取更换不同的`UserAgent`
   3. 定时的爬取一些[提供免费`ip`地址的网站](http://www.xicidaili.com/)，记录可用的`ip`以供爬虫不断更换使用

3. 判断商品的类型,输出到`output.csv`文件中（爬虫运行中出现的问题记录在`err.csv`中）。对于有效信息的提取，我设置了两个判断标准，来鉴别商品类型：

   1. `IMDB`评分

      > 互联网[电影](https://baike.baidu.com/item/%E7%94%B5%E5%BD%B1/31689)资料库（Internet Movie Database，简称IMDb）是一个关于电影演员、电影、电视节目、电视明星和[电影制作](https://baike.baidu.com/item/%E7%94%B5%E5%BD%B1%E5%88%B6%E4%BD%9C/6427696)的[在线数据库](https://baike.baidu.com/item/%E5%9C%A8%E7%BA%BF%E6%95%B0%E6%8D%AE%E5%BA%93/6397631)。

      根据我的观察，亚马逊的电影类商品一般会在网站上记录影片的`imdb`评分。所以我选择是否出现评分作为判断商品是否是电影的一个判断标准。但是这个标准的问题是不能区分电影与电视节目。

   2. `rating`评级

      > 美国电影分级制度是由[美国电影协会](https://baike.baidu.com/item/%E7%BE%8E%E5%9B%BD%E7%94%B5%E5%BD%B1%E5%8D%8F%E4%BC%9A/3145201)（Motion Picture Association of America，“MPAA”）负责组织的由家长们组成的委员会，根据电影的主题、语言、暴力程度、裸体程度、性爱场面和毒品使用场面等，代表大部分家长可能给予的观点对电影进行的评价。其目的是提前给家长提供电影的相关信息，帮助父母们判断哪些电影适合特定年龄阶段的孩子们观看。评级与电影内容的好坏并无关联。

      我的第二个判断标准是网页上是否出现美国电影协会给出的`raitng`评级。因为大部分能够在美国上映的影片都要经过该组织的评审给出对应的评级。而且这个评级是针对电影领域作品的。这个标准的问题是一些其他国家的电影可能会被错判，因为缺少美国电影协会的评级。

#### 其他说明

因为我个人的爬虫经验有限，始终没能找到突破亚马逊反爬的策略。我的爬虫在30000次爬取之后遇到瓶颈，不能再完成有效的爬取（成功率很低）。根据我的err信息可以判断可能是`ip`被封的原因。而且之前的爬取也曾遇到一些困难（成功率大概在1/3，比如机器人测试，免费`ip`网站爬取出现问题等）。所以最终结果是我大概只获取了10000件商品的有效信息，没能圆满完成这次作业任务。